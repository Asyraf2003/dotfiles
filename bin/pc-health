#!/bin/bash
# ü©∫ Simple system health summary for Asyraf

echo "üß† Memory usage:"
free -h | awk '/Mem:/ {print "  Used:", $3 " / " $2, " |  Free:", $4}'

echo
echo "üíæ Storage usage:"
df -h / | awk 'NR==2 {print "  Root:", $3 " used of " $2 " (" $5 ")"}'

if command -v nvme &>/dev/null; then
  # ambil nilai Kelvin dan konversi ke Celsius
  TEMP_K=$(sudo nvme smart-log /dev/nvme0n1 | grep -m1 "temperature" | grep -o '[0-9]\{3\} K' | awk '{print $1}')
  TEMP_C=$(awk "BEGIN {printf \"%.0f\", $TEMP_K - 273.15}")
  USE=$(sudo nvme smart-log /dev/nvme0n1 | grep -m1 "percentage_used" | awk '{print $3}')

  echo
  echo "‚öôÔ∏è  NVMe Health:"
  echo "  Temp: ${TEMP_C} ¬∞C  |  Used: ${USE}%"
fi
